(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"168a":function(t,e,o){"use strict";var a=o("d288"),s=o.n(a);e["default"]=s.a},"213c":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn"}},[e("q-table",{staticClass:"my-sticky-header-column-table shadow-24",attrs:{data:t.table_list,"row-key":"id",separator:t.separator,loading:t.loading,filter:t.filter,columns:t.columns,"hide-bottom":"",pagination:t.pagination,"no-data-label":"No data","no-results-label":"No data you want","table-style":{height:t.height},flat:"",bordered:""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top",fn:function(){return[e("q-btn-group",{attrs:{push:""}},[e("q-btn",{directives:[{name:"show",rawName:"v-show",value:"Supplier"!==t.$q.localStorage.getItem("staff_type")&&"Customer"!==t.$q.localStorage.getItem("staff_type"),expression:"\n              $q.localStorage.getItem('staff_type') !== 'Supplier' &&\n              $q.localStorage.getItem('staff_type') !== 'Customer'\n            "}],attrs:{label:t.$t("refresh"),icon:"refresh"},on:{click:function(e){return t.reFresh()}}},[e("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4",offset:[10,10],"content-style":"font-size: 12px"}},[t._v(t._s(t.$t("refreshtip")))])],1),9===t.isVip9?e("q-btn",{attrs:{label:t.$t("upload_center.upload"),icon:"file_upload"},on:{click:function(e){t.uploadVisible=!0}}},[e("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4",offset:[10,10],"content-style":"font-size: 12px"}},[t._v("\n              "+t._s(t.$t("upload_center.uploadfiles"))+"\n            ")])],1):t._e()],1),e("q-space"),e("q-input",{attrs:{outlined:"",rounded:"",dense:"",debounce:"300",color:"primary",placeholder:t.$t("search")},on:{blur:function(e){return t.getSearchList()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getSearchList()}},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"},on:{click:function(e){return t.getSearchList()}}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(o){return[e("q-tr",{attrs:{props:o}},[e("q-td",{key:"asn_code",attrs:{props:o}},[t._v(t._s(o.row.asn_code))]),e("q-td",{key:"asn_status",attrs:{props:o}},[t._v(t._s(o.row.asn_status))]),e("q-td",{key:"patch_number",attrs:{props:o}},[t._v(t._s(o.row.patch_number))]),e("q-td",{key:"warehouse_id",attrs:{props:o}},[t._v("\n            "+t._s(t.switchWarehouse(o.row)))]),e("q-td",{key:"total_weight",attrs:{props:o}},[t._v(t._s(o.row.total_weight.toFixed(4)))]),e("q-td",{key:"total_volume",attrs:{props:o}},[t._v(t._s(o.row.total_volume.toFixed(4)))]),e("q-td",{key:"total_quantity",attrs:{props:o}},[t._v(t._s(o.row.total_quantity))]),e("q-td",{key:"box_number",attrs:{props:o}},[t._v(t._s(o.row.box_number))]),e("q-td",{key:"confirm_time",attrs:{props:o}},[t._v(t._s(o.row.confirm_time))]),e("q-td",{key:"creater",attrs:{props:o}},[t._v(t._s(o.row.creater))]),e("q-td",{key:"create_time",attrs:{props:o}},[t._v(t._s(o.row.create_time))]),e("q-td",{key:"update_time",attrs:{props:o}},[t._v(t._s(o.row.update_time))]),e("q-td",{key:"action",staticStyle:{width:"100px"},attrs:{props:o}},[e("q-btn",{directives:[{name:"show",rawName:"v-show",value:9===t.$q.localStorage.getItem("is_vip"),expression:"\n                $q.localStorage.getItem('is_vip') === 9\n              "}],attrs:{round:"",flat:"",push:"",color:"info",icon:"move_up"},on:{click:function(e){return t.ChangeWarehouse(o.row)}}},[e("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4",offset:[10,10],"content-style":"font-size: 12px"}},[t._v("调拨")])],1),e("q-btn",{directives:[{name:"show",rawName:"v-show",value:"Supplier"!==t.$q.localStorage.getItem("staff_type")&&"Customer"!==t.$q.localStorage.getItem("staff_type")&&"Outbound"!==t.$q.localStorage.getItem("staff_type")&&"StockControl"!==t.$q.localStorage.getItem("staff_type"),expression:"\n                $q.localStorage.getItem('staff_type') !== 'Supplier' &&\n                $q.localStorage.getItem('staff_type') !== 'Customer' &&\n                $q.localStorage.getItem('staff_type') !== 'Outbound' &&\n                $q.localStorage.getItem('staff_type') !== 'StockControl'\n              "}],attrs:{round:"",flat:"",push:"",color:"info",icon:"visibility"},on:{click:function(e){return t.viewData(o.row)}}},[e("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4",offset:[10,10],"content-style":"font-size: 12px"}},[t._v(t._s(t.$t("printthisasn")))])],1),e("q-btn",{directives:[{name:"show",rawName:"v-show",value:"Supplier"!==t.$q.localStorage.getItem("staff_type")&&"Customer"!==t.$q.localStorage.getItem("staff_type")&&"Outbound"!==t.$q.localStorage.getItem("staff_type")&&"StockControl"!==t.$q.localStorage.getItem("staff_type"),expression:"\n                $q.localStorage.getItem('staff_type') !== 'Supplier' &&\n                $q.localStorage.getItem('staff_type') !== 'Customer' &&\n                $q.localStorage.getItem('staff_type') !== 'Outbound' &&\n                $q.localStorage.getItem('staff_type') !== 'StockControl'\n              "}],attrs:{round:"",flat:"",push:"",color:"positive",icon:"img:statics/inbound/preloadstock.png"},on:{click:function(e){return t.preloadData(o.row)}}},[e("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4",offset:[10,10],"content-style":"font-size: 12px"}},[t._v(t._s(t.$t("confirmdelivery")))])],1),e("q-btn",{attrs:{round:"",flat:"",push:"",color:"secondary",icon:"file_download"},on:{click:function(e){return t.handleRecordDownload(o.row)}}},[e("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4",offset:[10,10],"content-style":"font-size: 12px"}},[t._v(t._s(t.$t("twoKai.download_tags")))])],1),e("q-btn",{directives:[{name:"show",rawName:"v-show",value:"Supplier"!==t.$q.localStorage.getItem("staff_type")&&"Customer"!==t.$q.localStorage.getItem("staff_type")&&"Outbound"!==t.$q.localStorage.getItem("staff_type")&&"StockControl"!==t.$q.localStorage.getItem("staff_type"),expression:"\n                $q.localStorage.getItem('staff_type') !== 'Supplier' &&\n                $q.localStorage.getItem('staff_type') !== 'Customer' &&\n                $q.localStorage.getItem('staff_type') !== 'Outbound' &&\n                $q.localStorage.getItem('staff_type') !== 'StockControl'\n              "}],attrs:{round:"",flat:"",push:"",color:"positive",icon:"img:statics/inbound/presortstock.png"},on:{click:function(e){return t.presortData(o.row)}}},[e("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4",offset:[10,10],"content-style":"font-size: 12px"}},[t._v(t._s(t.$t("finishloading")))])],1),e("q-btn",{directives:[{name:"show",rawName:"v-show",value:"Supplier"!==t.$q.localStorage.getItem("staff_type")&&"Customer"!==t.$q.localStorage.getItem("staff_type")&&"Outbound"!==t.$q.localStorage.getItem("staff_type")&&"StockControl"!==t.$q.localStorage.getItem("staff_type"),expression:"\n                $q.localStorage.getItem('staff_type') !== 'Supplier' &&\n                $q.localStorage.getItem('staff_type') !== 'Customer' &&\n                $q.localStorage.getItem('staff_type') !== 'Outbound' &&\n                $q.localStorage.getItem('staff_type') !== 'StockControl'\n              "}],attrs:{round:"",flat:"",push:"",color:"purple",icon:"img:statics/inbound/sortstock.png"},on:{click:function(e){return t.sortedData(o.row)}}},[e("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4",offset:[10,10],"content-style":"font-size: 12px"}},[t._v(t._s(t.$t("confirmsorted")))])],1),e("q-btn",{directives:[{name:"show",rawName:"v-show",value:"Supplier"!==t.$q.localStorage.getItem("staff_type")&&"Customer"!==t.$q.localStorage.getItem("staff_type")&&"Outbound"!==t.$q.localStorage.getItem("staff_type")&&"StockControl"!==t.$q.localStorage.getItem("staff_type")&&9===t.$q.localStorage.getItem("is_vip"),expression:"\n                $q.localStorage.getItem('staff_type') !== 'Supplier' &&\n                $q.localStorage.getItem('staff_type') !== 'Customer' &&\n                $q.localStorage.getItem('staff_type') !== 'Outbound' &&\n                $q.localStorage.getItem('staff_type') !== 'StockControl' &&\n                $q.localStorage.getItem('is_vip') === 9\n              "}],attrs:{round:"",flat:"",push:"",color:"dark",icon:"delete"},on:{click:function(e){return t.deleteData(o.row)}}},[e("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4",offset:[10,10],"content-style":"font-size: 12px"}},[t._v(t._s(t.$t("delete")))])],1)],1),o.row.transportation_fee.detail!==[]?[e("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4",offset:[10,10],"content-style":"font-size: 12px"}},[e("q-list",t._l(o.row.transportation_fee.detail,(function(o,a){return e("div",{key:a},[e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}]},[e("q-item-section",[e("q-item-label",[t._v(t._s(o.transportation_supplier))]),e("q-item-label",[t._v(t._s(t.$t("estimate"))+":\n                        "+t._s(o.transportation_cost))])],1)],1)],1)})),0)],1)]:t._e()],2)]}}])})],1),[e("div",{staticClass:"q-pa-lg flex flex-center"},[e("q-btn",{directives:[{name:"show",rawName:"v-show",value:0===t.page_count,expression:"page_count===0"}],attrs:{flat:"",push:"",color:"dark",label:t.$t("no_data")}}),e("q-pagination",{directives:[{name:"show",rawName:"v-show",value:0!==t.page_count,expression:"page_count!==0"}],attrs:{color:"purple",max:Math.ceil(t.page_count/30),"max-pages":30,"boundary-numbers":"","direction-links":""},on:{click:function(e){return t.getList()}},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}})],1)],e("q-dialog",{model:{value:t.newForm,callback:function(e){t.newForm=e},expression:"newForm"}},[e("q-card",{staticClass:"shadow-24"},[e("q-bar",{staticClass:"bg-light-blue-10 text-white rounded-borders",staticStyle:{height:"50px"}},[e("div",[t._v(t._s(t.newFormData.asn_code))]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[e("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4"}},[t._v(t._s(t.$t("index.close")))])],1)],1),e("q-card-section",{staticClass:"scroll",staticStyle:{"max-height":"325px",width:"400px"}},[e("q-select",{staticStyle:{"margin-bottom":"5px"},attrs:{filled:"","use-input":"","fill-input":"","hide-selected":"","input-debounce":"0",dense:"",outlined:"",square:"",options:t.supplier_list,label:t.$t("baseinfo.view_supplier.supplier_name"),rules:[e=>e&&e.length>0||t.error1]},on:{filter:t.filterFnS,"input-value":t.setModel,keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"Sno-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v(" No Result ")])],1)]},proxy:!0}]),model:{value:t.newFormData.supplier,callback:function(e){t.$set(t.newFormData,"supplier",e)},expression:"newFormData.supplier"}}),e("q-input",{attrs:{dense:"",outlined:"",square:"",label:t.$t("twoKai.view_batch.batch_name"),rules:[e=>e&&e.length>0||t.$t("twoKai.view_batch.error1")]},model:{value:t.newFormData.patch_number,callback:function(e){t.$set(t.newFormData,"patch_number",e)},expression:"newFormData.patch_number"}}),e("q-select",{attrs:{dense:"",outlined:"",square:"","emit-value":"","map-options":"","option-value":"id","option-label":"warehosue_name",options:t.warehouse_list,label:t.$t("twoKai.view_warehouse.warehouse_name"),rules:[e=>e||t.$t("twoKai.view_warehouse.error1")]},model:{value:t.warehouseId,callback:function(e){t.warehouseId=e},expression:"warehouseId"}}),e("q-input",{staticStyle:{"margin-bottom":"5px"},attrs:{dense:"",outlined:"",square:"",debounce:"500",type:"number",label:t.$t("stock.view_stocklist.goods_qty")},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"before",fn:function(){return[e("q-select",{ref:"one",attrs:{dense:"",outlined:"",square:"","use-input":"","hide-selected":"","fill-input":"",label:t.$t("goods.view_goodslist.goods_code"),options:t.options,autofocus:""},on:{focus:function(e){return t.getFocus(1)},"input-value":t.setOptions,filter:t.filterFn,keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("No results")])],1)]},proxy:!0},t.goodsData1.code?{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(e){e.stopPropagation(),t.goodsData1.code=""}}})]},proxy:!0}:null],null,!0),model:{value:t.goodsData1.code,callback:function(e){t.$set(t.goodsData1,"code",e)},expression:"goodsData1.code"}})]},proxy:!0}]),model:{value:t.goodsData1.qty,callback:function(e){t.$set(t.goodsData1,"qty",t._n(e))},expression:"goodsData1.qty"}}),e("q-input",{staticStyle:{"margin-bottom":"5px"},attrs:{dense:"",outlined:"",square:"",debounce:"500",type:"number",label:t.$t("stock.view_stocklist.goods_qty")},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"before",fn:function(){return[e("q-select",{attrs:{dense:"",outlined:"",square:"","use-input":"","hide-selected":"","fill-input":"",label:t.$t("goods.view_goodslist.goods_code"),options:t.options},on:{focus:function(e){return t.getFocus(2)},"input-value":t.setOptions,filter:t.filterFn,keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("No results")])],1)]},proxy:!0},t.goodsData2.code?{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(e){e.stopPropagation(),t.goodsData2.code=""}}})]},proxy:!0}:null],null,!0),model:{value:t.goodsData2.code,callback:function(e){t.$set(t.goodsData2,"code",e)},expression:"goodsData2.code"}})]},proxy:!0}]),model:{value:t.goodsData2.qty,callback:function(e){t.$set(t.goodsData2,"qty",t._n(e))},expression:"goodsData2.qty"}}),e("q-input",{staticStyle:{"margin-bottom":"5px"},attrs:{dense:"",outlined:"",square:"",debounce:"500",type:"number",label:t.$t("stock.view_stocklist.goods_qty")},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"before",fn:function(){return[e("q-select",{attrs:{dense:"",outlined:"",square:"","use-input":"","hide-selected":"","fill-input":"",label:t.$t("goods.view_goodslist.goods_code"),options:t.options},on:{focus:function(e){return t.getFocus(3)},"input-value":t.setOptions,filter:t.filterFn,keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("No results")])],1)]},proxy:!0},t.goodsData3.code?{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(e){e.stopPropagation(),t.goodsData3.code=""}}})]},proxy:!0}:null],null,!0),model:{value:t.goodsData3.code,callback:function(e){t.$set(t.goodsData3,"code",e)},expression:"goodsData3.code"}})]},proxy:!0}]),model:{value:t.goodsData3.qty,callback:function(e){t.$set(t.goodsData3,"qty",t._n(e))},expression:"goodsData3.qty"}}),e("q-input",{staticStyle:{"margin-bottom":"5px"},attrs:{dense:"",outlined:"",square:"",debounce:"500",type:"number",label:t.$t("stock.view_stocklist.goods_qty")},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"before",fn:function(){return[e("q-select",{attrs:{dense:"",outlined:"",square:"","use-input":"","hide-selected":"","fill-input":"",label:t.$t("goods.view_goodslist.goods_code"),options:t.options},on:{focus:function(e){return t.getFocus(4)},"input-value":t.setOptions,filter:t.filterFn,keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("No results")])],1)]},proxy:!0},t.goodsData4.code?{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(e){e.stopPropagation(),t.goodsData4.code=""}}})]},proxy:!0}:null],null,!0),model:{value:t.goodsData4.code,callback:function(e){t.$set(t.goodsData4,"code",e)},expression:"goodsData4.code"}})]},proxy:!0}]),model:{value:t.goodsData4.qty,callback:function(e){t.$set(t.goodsData4,"qty",t._n(e))},expression:"goodsData4.qty"}}),e("q-input",{staticStyle:{"margin-bottom":"5px"},attrs:{dense:"",outlined:"",square:"",debounce:"500",type:"number",label:t.$t("stock.view_stocklist.goods_qty")},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"before",fn:function(){return[e("q-select",{attrs:{dense:"",outlined:"",square:"","use-input":"","hide-selected":"","fill-input":"",label:t.$t("goods.view_goodslist.goods_code"),options:t.options},on:{focus:function(e){return t.getFocus(5)},"input-value":t.setOptions,filter:t.filterFn,keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("No results")])],1)]},proxy:!0},t.goodsData5.code?{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(e){e.stopPropagation(),t.goodsData5.code=""}}})]},proxy:!0}:null],null,!0),model:{value:t.goodsData5.code,callback:function(e){t.$set(t.goodsData5,"code",e)},expression:"goodsData5.code"}})]},proxy:!0}]),model:{value:t.goodsData5.qty,callback:function(e){t.$set(t.goodsData5,"qty",t._n(e))},expression:"goodsData5.qty"}}),e("q-input",{staticStyle:{"margin-bottom":"5px"},attrs:{dense:"",outlined:"",square:"",debounce:"500",type:"number",label:t.$t("stock.view_stocklist.goods_qty")},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"before",fn:function(){return[e("q-select",{attrs:{dense:"",outlined:"",square:"","use-input":"","hide-selected":"","fill-input":"",label:t.$t("goods.view_goodslist.goods_code"),options:t.options},on:{focus:function(e){return t.getFocus(6)},"input-value":t.setOptions,filter:t.filterFn,keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("No results")])],1)]},proxy:!0},t.goodsData6.code?{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(e){e.stopPropagation(),t.goodsData6.code=""}}})]},proxy:!0}:null],null,!0),model:{value:t.goodsData6.code,callback:function(e){t.$set(t.goodsData6,"code",e)},expression:"goodsData6.code"}})]},proxy:!0}]),model:{value:t.goodsData6.qty,callback:function(e){t.$set(t.goodsData6,"qty",t._n(e))},expression:"goodsData6.qty"}}),e("q-input",{staticStyle:{"margin-bottom":"5px"},attrs:{dense:"",outlined:"",square:"",debounce:"500",type:"number",label:t.$t("stock.view_stocklist.goods_qty")},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"before",fn:function(){return[e("q-select",{attrs:{dense:"",outlined:"",square:"","use-input":"","hide-selected":"","fill-input":"",label:t.$t("goods.view_goodslist.goods_code"),options:t.options},on:{focus:function(e){return t.getFocus(7)},"input-value":t.setOptions,filter:t.filterFn,keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("No results")])],1)]},proxy:!0},t.goodsData7.code?{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(e){e.stopPropagation(),t.goodsData7.code=""}}})]},proxy:!0}:null],null,!0),model:{value:t.goodsData7.code,callback:function(e){t.$set(t.goodsData7,"code",e)},expression:"goodsData7.code"}})]},proxy:!0}]),model:{value:t.goodsData7.qty,callback:function(e){t.$set(t.goodsData7,"qty",t._n(e))},expression:"goodsData7.qty"}}),e("q-input",{staticStyle:{"margin-bottom":"5px"},attrs:{dense:"",outlined:"",square:"",debounce:"500",type:"number",label:t.$t("stock.view_stocklist.goods_qty")},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"before",fn:function(){return[e("q-select",{attrs:{dense:"",outlined:"",square:"","use-input":"","hide-selected":"","fill-input":"",label:t.$t("goods.view_goodslist.goods_code"),options:t.options},on:{focus:function(e){return t.getFocus(8)},"input-value":t.setOptions,filter:t.filterFn,keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("No results")])],1)]},proxy:!0},t.goodsData8.code?{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(e){e.stopPropagation(),t.goodsData8.code=""}}})]},proxy:!0}:null],null,!0),model:{value:t.goodsData8.code,callback:function(e){t.$set(t.goodsData8,"code",e)},expression:"goodsData8.code"}})]},proxy:!0}]),model:{value:t.goodsData8.qty,callback:function(e){t.$set(t.goodsData8,"qty",t._n(e))},expression:"goodsData8.qty"}}),e("q-input",{staticStyle:{"margin-bottom":"5px"},attrs:{dense:"",outlined:"",square:"",debounce:"500",type:"number",label:t.$t("stock.view_stocklist.goods_qty")},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"before",fn:function(){return[e("q-select",{attrs:{dense:"",outlined:"",square:"","use-input":"","hide-selected":"","fill-input":"",label:t.$t("goods.view_goodslist.goods_code"),options:t.options},on:{focus:function(e){return t.getFocus(9)},"input-value":t.setOptions,filter:t.filterFn,keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("No results")])],1)]},proxy:!0},t.goodsData9.code?{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(e){e.stopPropagation(),t.goodsData9.code=""}}})]},proxy:!0}:null],null,!0),model:{value:t.goodsData9.code,callback:function(e){t.$set(t.goodsData9,"code",e)},expression:"goodsData9.code"}})]},proxy:!0}]),model:{value:t.goodsData9.qty,callback:function(e){t.$set(t.goodsData9,"qty",t._n(e))},expression:"goodsData9.qty"}}),e("q-input",{staticStyle:{"margin-bottom":"5px"},attrs:{dense:"",outlined:"",square:"",debounce:"500",type:"number",label:t.$t("stock.view_stocklist.goods_qty")},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"before",fn:function(){return[e("q-select",{attrs:{dense:"",outlined:"",square:"","use-input":"","hide-selected":"","fill-input":"",label:t.$t("goods.view_goodslist.goods_code"),options:t.options},on:{focus:function(e){return t.getFocus(10)},"input-value":t.setOptions,filter:t.filterFn,keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isEdit?t.editDataSubmit():t.newDataSubmit()}},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[t._v("No results")])],1)]},proxy:!0},t.goodsData10.code?{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(e){e.stopPropagation(),t.goodsData10.code=""}}})]},proxy:!0}:null],null,!0),model:{value:t.goodsData10.code,callback:function(e){t.$set(t.goodsData10,"code",e)},expression:"goodsData10.code"}})]},proxy:!0}]),model:{value:t.goodsData10.qty,callback:function(e){t.$set(t.goodsData10,"qty",t._n(e))},expression:"goodsData10.qty"}})],1),e("div",{staticStyle:{float:"right",padding:"15px 15px 15px 0"}},[e("q-btn",{staticStyle:{"margin-right":"25px"},attrs:{color:"white","text-color":"black"},on:{click:function(e){t.isEdit?t.editDataCancel():t.newDataCancel()}}},[t._v(t._s(t.$t("cancel")))]),e("q-btn",{attrs:{color:"primary"},on:{click:function(e){t.isEdit?t.editDataSubmit():t.newDataSubmit()}}},[t._v(t._s(t.$t("submit")))])],1)],1)],1),e("q-dialog",{model:{value:t.deleteForm,callback:function(e){t.deleteForm=e},expression:"deleteForm"}},[e("q-card",{staticClass:"shadow-24"},[e("q-bar",{staticClass:"bg-light-blue-10 text-white rounded-borders",staticStyle:{height:"50px"}},[e("div",[t._v(t._s(t.$t("delete")))]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[e("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4"}},[t._v(t._s(t.$t("index.close")))])],1)],1),e("q-card-section",{staticClass:"scroll",staticStyle:{"max-height":"325px",width:"400px"}},[t._v(t._s(t.$t("deletetip")))]),e("div",{staticStyle:{float:"right",padding:"15px 15px 15px 0"}},[e("q-btn",{staticStyle:{"margin-right":"25px"},attrs:{color:"white","text-color":"black"},on:{click:function(e){return t.deleteDataCancel()}}},[t._v(t._s(t.$t("cancel")))]),e("q-btn",{attrs:{color:"primary"},on:{click:function(e){return t.deleteDataSubmit()}}},[t._v(t._s(t.$t("submit")))])],1)],1)],1),e("q-dialog",{model:{value:t.preloadForm,callback:function(e){t.preloadForm=e},expression:"preloadForm"}},[e("q-card",{staticClass:"shadow-24"},[e("q-bar",{staticClass:"bg-light-blue-10 text-white rounded-borders",staticStyle:{height:"50px"}},[e("div",[t._v(t._s(t.$t("confirmdelivery")))]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[e("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4"}},[t._v(t._s(t.$t("index.close")))])],1)],1),e("q-card-section",{staticClass:"scroll",staticStyle:{"max-height":"325px",width:"400px"}},[e("q-input",{attrs:{outlined:"",hint:t.$t("deliveryData.box_number"),placeholder:t.$t("deliveryData.box_number_placeholder")},model:{value:t.deliveryData.box_number,callback:function(e){t.$set(t.deliveryData,"box_number",e)},expression:"deliveryData.box_number"}}),e("br"),e("q-input",{attrs:{outlined:"",mask:"date",type:"date",hint:t.$t("deliveryData.confirm_time"),placeholder:t.$t("deliveryData.confirm_time_placeholder")},model:{value:t.deliveryData.confirm_time,callback:function(e){t.$set(t.deliveryData,"confirm_time",e)},expression:"deliveryData.confirm_time"}})],1),e("div",{staticStyle:{float:"right",padding:"15px 15px 15px 0"}},[e("q-btn",{staticStyle:{"margin-right":"25px"},attrs:{color:"white","text-color":"black"},on:{click:function(e){return t.preloadDataCancel()}}},[t._v(t._s(t.$t("cancel")))]),e("q-btn",{attrs:{color:"primary"},on:{click:function(e){return t.preloadDataSubmit()}}},[t._v(t._s(t.$t("submit")))])],1)],1)],1),e("q-dialog",{model:{value:t.presortForm,callback:function(e){t.presortForm=e},expression:"presortForm"}},[e("q-card",{staticClass:"shadow-24"},[e("q-bar",{staticClass:"bg-light-blue-10 text-white rounded-borders",staticStyle:{height:"50px"}},[e("div",[t._v(t._s(t.$t("finishloading")))]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[e("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4"}},[t._v(t._s(t.$t("index.close")))])],1)],1),e("q-card-section",{staticClass:"scroll",staticStyle:{"max-height":"325px",width:"400px"}},[t._v(t._s(t.$t("deletetip")))]),e("div",{staticStyle:{float:"right",padding:"15px 15px 15px 0"}},[e("q-btn",{staticStyle:{"margin-right":"25px"},attrs:{color:"white","text-color":"black"},on:{click:function(e){return t.presortDataCancel()}}},[t._v(t._s(t.$t("cancel")))]),e("q-btn",{attrs:{color:"primary"},on:{click:function(e){return t.presortDataSubmit()}}},[t._v(t._s(t.$t("submit")))])],1)],1)],1),e("q-dialog",{model:{value:t.viewForm,callback:function(e){t.viewForm=e},expression:"viewForm"}},[e("div",{staticStyle:{"min-width":"1500px"}},[e("q-card",{attrs:{id:"printMe"}},[e("q-bar",{staticClass:"bg-light-blue-10 text-white rounded-borders",staticStyle:{height:"50px"}},[e("div",[t._v(t._s(t.viewAsn))]),e("q-space"),t._v("\n        "+t._s(t.$t("inbound.asn"))+"\n      ")],1),e("q-card-section",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-8"},[e("div",{staticClass:"text-h6"},[t._v("\n              Sender: "+t._s(t.supplier_detail.supplier_name)+"\n            ")]),e("div",{staticClass:"text-subtitle2"},[t._v("\n              Address: "+t._s(t.supplier_detail.supplier_city)+t._s(t.supplier_detail.supplier_address)+"\n            ")]),e("div",{staticClass:"text-subtitle2"},[t._v("\n              Tel: "+t._s(t.supplier_detail.supplier_contact)+"\n            ")]),e("div",{staticClass:"text-h6"},[t._v("\n              Receiver: "+t._s(t.warehouse_detail.warehouse_name)+"\n            ")]),e("div",{staticClass:"text-subtitle2"},[t._v("\n              Address: "+t._s(t.warehouse_detail.warehouse_city)+t._s(t.warehouse_detail.warehouse_address)+"\n            ")]),e("div",{staticClass:"text-subtitle2"},[t._v("\n              Tel: "+t._s(t.warehouse_detail.warehouse_contact)+"\n            ")])]),e("div",{staticClass:"col-4"},[e("img",{staticStyle:{width:"70%","margin-left":"15%"},attrs:{src:t.bar_code}})])])]),e("q-markup-table",[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("\n              "+t._s(t.$t("goods.view_goodslist.goods_code"))+"\n            ")]),e("th",{staticClass:"text-right"},[t._v("\n              "+t._s(t.$t("stock.view_stocklist.goods_qty"))+"\n            ")]),e("th",{staticClass:"text-center"},[t._v("\n              "+t._s(t.$t("twoKai.warehouse_id"))+"\n            ")]),e("th",{staticClass:"text-right"},[t._v("\n              "+t._s(t.$t("inbound.view_asn.total_weight"))+"\n            ")]),e("th",{staticClass:"text-right"},[t._v("\n              "+t._s(t.$t("inbound.view_asn.total_volume"))+"\n            ")]),e("th",{staticClass:"text-right"},[t._v("\n              "+t._s(t.$t("inbound.view_asn.goods_actual_qty"))+"\n            ")]),e("th",{staticClass:"text-right"},[t._v("Comments")])])]),e("tbody",t._l(t.viewprint_table,(function(o,a){return e("tr",{key:a},[e("td",{staticClass:"text-left"},[t._v(t._s(o.goods_code))]),e("td",{staticClass:"text-right"},[t._v(t._s(o.goods_qty))]),e("td",{staticClass:"text-right"},[t._v("\n              "+t._s(t.switchWarehouse(o))+"\n            ")]),e("td",{staticClass:"text-right"},[t._v(t._s(o.goods_weight))]),e("td",{staticClass:"text-right"},[t._v(t._s(o.goods_volume))]),e("td",{staticClass:"text-right"},[t._v(t._s(o.goods_actual_qty))]),e("td",{staticClass:"text-right"})])})),0)])],1)],1),e("div",{staticStyle:{float:"right",padding:"15px 15px 15px 0"}},[e("q-btn",{directives:[{name:"print",rawName:"v-print",value:t.printObj,expression:"printObj"}],attrs:{color:"primary",icon:"print"}},[t._v("print")])],1)]),e("q-dialog",{model:{value:t.sortedForm,callback:function(e){t.sortedForm=e},expression:"sortedForm"}},[e("q-card",{staticClass:"shadow-24"},[e("q-bar",{staticClass:"bg-light-blue-10 text-white rounded-borders",staticStyle:{height:"50px"}},[e("div",[t._v(t._s(t.sorted_list.asn_code))]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[e("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4"}},[t._v(t._s(t.$t("index.close")))])],1)],1),e("q-card-section",{staticClass:"scroll",staticStyle:{"max-height":"325px",width:"400px"}},[e("q-select",{attrs:{outlined:"",options:t.bin_list_detail,label:"缓存区"},model:{value:t.sorted_list.bin_name,callback:function(e){t.$set(t.sorted_list,"bin_name",e)},expression:"sorted_list.bin_name"}}),e("q-input",{staticStyle:{"margin-bottom":"5px"},attrs:{dense:"",outlined:"",square:"",debounce:"500",disable:"",readonly:"",label:t.$t("baseinfo.view_supplier.supplier_name")},model:{value:t.sorted_list.supplier,callback:function(e){t.$set(t.sorted_list,"supplier",e)},expression:"sorted_list.supplier"}}),t._l(t.sorted_list.goodsData,(function(o,a){return e("div",{key:a},[e("q-input",{attrs:{dense:"",outlined:"",square:"","bottom-slots":"",type:"number",label:t.$t("inbound.view_asn.goods_actual_qty")},scopedSlots:t._u([{key:"append",fn:function(){return[t._v("\n              "+t._s(o.goods_code)+"\n            ")]},proxy:!0}],null,!0),model:{value:o.goods_actual_qty,callback:function(e){t.$set(o,"goods_actual_qty",e)},expression:"item.goods_actual_qty"}})],1)}))],2),e("div",{staticStyle:{float:"right",padding:"15px 15px 15px 0"}},[e("q-btn",{staticStyle:{"margin-right":"25px"},attrs:{color:"white","text-color":"black"},on:{click:function(e){return t.sortedDataCancel()}}},[t._v(t._s(t.$t("cancel")))]),e("q-btn",{attrs:{color:"primary"},on:{click:function(e){return t.sortedDataSubmit()}}},[t._v(t._s(t.$t("submit")))])],1)],1)],1),e("q-dialog",{model:{value:t.uploadVisible,callback:function(e){t.uploadVisible=e},expression:"uploadVisible"}},[e("q-card",{staticClass:"shadow-24"},[e("q-bar",{staticClass:"bg-light-blue-10 text-white rounded-borders",staticStyle:{height:"50px"}},[e("div",[t._v(t._s(t.$t("twoKai.upload_asn.title")))]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[e("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4"}},[t._v(t._s(t.$t("index.close")))])],1)],1),e("q-card-section",{staticClass:"scroll",staticStyle:{"max-height":"325px",width:"400px"}},[e("q-uploader",{staticClass:"custom-uploader",attrs:{url:t.goodslistfile_pathname,method:"post",headers:[{name:"token",value:t.token},{name:"language",value:t.lang},{name:"operator",value:t.login_id}],"field-name":t=>"file","auto-upload":""},on:{rejected:t.onRejected,added:t.getfileinfo,finish:t.handleUploadFinish},scopedSlots:t._u([{key:"header",fn:function(o){return[e("q-btn",{attrs:{type:"a",label:t.$t("upload_center.upload"),icon:"file_upload",round:"",dense:"",flat:""},on:{click:o.pickFiles}},[e("q-uploader-add-trigger"),e("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4",offset:[10,10],"content-style":"font-size: 12px"}},[t._v(t._s(t.$t("upload_center.uploadfiles")))])],1)]}}])}),e("p",{staticClass:"custom-download"},[e("span",{on:{click:t.handleDownloadTemplate}},[t._v("\n            "+t._s(t.$t("twoKai.upload_asn.template")))])])],1)],1)],1),e("q-dialog",{model:{value:t.warehouse_form,callback:function(e){t.warehouse_form=e},expression:"warehouse_form"}},[e("q-card",{staticClass:"shadow-24"},[e("q-bar",{staticClass:"bg-light-blue-10 text-white rounded-borders",staticStyle:{height:"50px"}},[e("div",[t._v("调拨")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[e("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4"}},[t._v(t._s(t.$t("index.close")))])],1)],1),e("q-card-section",{staticClass:"scroll",staticStyle:{"max-height":"325px",width:"400px"}},[e("q-select",{attrs:{filled:"",options:t.warehouse_options,label:"仓库ID"},model:{value:t.warehouse_model,callback:function(e){t.warehouse_model=e},expression:"warehouse_model"}})],1),e("div",{staticStyle:{float:"right",padding:"15px 15px 15px 0"}},[e("q-btn",{staticStyle:{"margin-right":"25px"},attrs:{color:"white","text-color":"black"},on:{click:function(e){t.isEdit?t.editDataCancel():t.newDataCancel()}}},[t._v(t._s(t.$t("cancel")))]),e("q-btn",{attrs:{color:"primary"},on:{click:function(e){return t.submitWarehouseChange()}}},[t._v(t._s(t.$t("submit")))])],1)],1)],1)],2)},s=[],n=o("3004"),i=o("bd4c"),l=o("a357"),r=o("a639"),c=o("18d6"),d=o("b06b"),u={name:"Pageasnlist",data(){return{current:1,page_count:0,uploadVisible:!1,token:c["a"].getItem("openid"),lang:c["a"].getItem("lang"),login_id:c["a"].getItem("login_id"),isVip9:c["a"].getItem("is_vip")||"",goodslistfile_pathname:baseurl+"uploadfile/asnlistfileadd/",openid:"",login_name:"",authin:"0",pathname:"asn/",pathname_previous:"",pathname_next:"",separator:"cell",loading:!1,height:"",table_list:[],viewprint_table:[],bar_code:"",warehouse_detail:{},supplier_list:[],supplier_list1:[],deliveryData:{box_number:"",confirm_time:""},supplier_detail:{},columns:[{name:"asn_code",required:!0,label:this.$t("inbound.view_asn.asn_code"),align:"left",field:"asn_code"},{name:"asn_status",label:this.$t("inbound.view_asn.asn_status"),field:"asn_status",align:"center"},{name:"patch_number",label:this.$t("twoKai.patch_number"),field:"patch_number",align:"center"},{name:"warehouse_id",label:this.$t("twoKai.warehouse_id"),field:"warehouse_id",align:"center"},{name:"total_weight",label:this.$t("inbound.view_asn.total_weight"),field:"total_weight",align:"center"},{name:"total_volume",label:this.$t("inbound.view_asn.total_volume"),field:"total_volume",align:"center"},{name:"total_quantity",label:this.$t("baseinfo.view_supplier.total_quantity"),field:"total_quantity",align:"center"},{name:"box_number",label:this.$t("deliveryData.box_number"),field:"box_number",align:"center"},{name:"confirm_time",label:this.$t("deliveryData.confirm_time"),field:"confirm_time",align:"center"},{name:"creater",label:this.$t("creater"),field:"creater",align:"center"},{name:"create_time",label:this.$t("createtime"),field:"create_time",align:"center"},{name:"update_time",label:this.$t("updatetime"),field:"update_time",align:"center"},{name:"action",label:this.$t("action"),align:"right"}],filter:"",pagination:{page:1,rowsPerPage:"30"},newForm:!1,options:r["a"].getItem("goods_code"),options1:[],isEdit:!1,listNumber:"",newAsn:{creater:""},warehouseId:"",newFormData:{asn_code:"",patch_number:"",supplier:"",goods_code:[],goods_qty:[],creater:""},goodsData1:{code:"",qty:""},goodsData2:{code:"",qty:""},goodsData3:{code:"",qty:""},goodsData4:{code:"",qty:""},goodsData5:{code:"",qty:""},goodsData6:{code:"",qty:""},goodsData7:{code:"",qty:""},goodsData8:{code:"",qty:""},goodsData9:{code:"",qty:""},goodsData10:{code:"",qty:""},editid:0,editFormData:{},sortedForm:!1,sortedid:0,sorted_list:{bin_name:"",asn_code:"",supplier:"",goodsData:[],creater:""},deleteForm:!1,deleteid:0,preloadForm:!1,preloadid:0,presortForm:!1,presortid:0,viewForm:!1,viewAsn:"",viewid:0,printObj:{id:"printMe",popTitle:this.$t("inbound.asn")},devi:window.device,error1:this.$t("baseinfo.view_supplier.error1"),goodsListData:[],warehouse_list:[1,2,3,4,5,6,7],warehouse_form:!1,warehouse_model:null,warehouse_options:[],asn_choose_data:null,bin_list_detail:[],bin_list:[]}},methods:{handleRecordDownload(t){c["a"].has("auth")?Object(n["g"])(`asn/pdfdownload/${t.id}/?lang=${c["a"].getItem("lang")}`).then((e=>{var o=Date.now(),a=i["b"].formatDate(o,"YYYYMMDDHHmmssSSS");const s=Object(l["a"])(`asn_filedetail_${t.id}_${a}.pdf`,e.data,"application/pdf");!0!==s&&this.$q.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})})):this.$q.notify({message:this.$t("notice.loginerror"),color:"negative",icon:"warning"})},handleDownload(){const t=this;Object(n["f"])(t.pathname+"filelist/?lang="+c["a"].getItem("lang")).then((e=>{var o=Date.now(),a=i["b"].formatDate(o,"YYYYMMDDHHmmssSSS");const s=Object(l["a"])(t.pathname+a+".csv","\ufeff"+e.data,"text/csv");!0!==s&&t.$q.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})}))},onRejected(t){this.$q.notify({type:"negative",message:`${t.length} file(s) did not pass validation constraints`})},getfileinfo(t){console.log(t,"------")},handleUploadFinish(){this.$q.notify({message:"Success upload",icon:"check",color:"green"}),this.getList(),this.uploadVisible=!1},handleDownloadTemplate(){c["a"].has("auth")?c["a"].has("lang")&&"zh-hans"===c["a"].getItem("lang")?Object(d["a"])(baseurl+"media/upload_example/asnlist_cn.xlsx"):Object(d["a"])(baseurl+"media/upload_example/asnlist_en.xlsx"):_this.$q.notify({message:_this.$t("notice.loginerror"),color:"negative",icon:"warning"})},switchWarehouse(t){const e=this.warehouse_list.find((e=>e.warehouse_id=t.warehouse_id));return t.warehouse_id+"-"+e.warehosue_name||""},getList(){var t=this;c["a"].has("auth")&&Object(n["e"])(t.pathname+"list/?page="+this.current,{}).then((e=>{t.page_count=e.count,t.table_list=[],e.results.forEach((e=>{1===e.asn_status?e.asn_status=t.$t("inbound.predeliverystock"):2===e.asn_status?e.asn_status=t.$t("inbound.preloadstock"):3===e.asn_status?e.asn_status=t.$t("inbound.presortstock"):4===e.asn_status?e.asn_status=t.$t("inbound.sortstock"):5===e.asn_status?e.asn_status=t.$t("inbound.asndone"):e.asn_status="N/A",t.table_list.push(e)})),t.supplier_list=e.supplier_list,t.supplier_list1=e.supplier_list,t.pathname_previous=e.previous,t.pathname_next=e.next,t.goodsListData=e.results,t.warehouse_list=e.warehouse_list,t.warehouse_options=e.warehouse_list,t.bin_list=e.bin_list})).catch((e=>{console.log(e),t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},getSearchList(){var t=this;c["a"].has("auth")&&Object(n["e"])(t.pathname+"list/?search="+t.filter+"&page="+this.current,{}).then((e=>{t.page_count=e.count,t.table_list=[],e.results.forEach((e=>{1===e.asn_status?e.asn_status=t.$t("inbound.predeliverystock"):2===e.asn_status?e.asn_status=t.$t("inbound.preloadstock"):3===e.asn_status?e.asn_status=t.$t("inbound.presortstock"):4===e.asn_status?e.asn_status=t.$t("inbound.sortstock"):5===e.asn_status?e.asn_status=t.$t("inbound.asndone"):e.asn_status="N/A",t.table_list.push(e)})),t.supplier_list=e.supplier_list,t.supplier_list1=e.supplier_list,t.pathname_previous=e.previous,t.pathname_next=e.next,t.bin_list=e.bin_list})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},getListPrevious(){var t=this;c["a"].has("auth")&&Object(n["e"])(t.pathname_previous,{}).then((e=>{t.table_list=[],e.results.forEach((e=>{1===e.asn_status?e.asn_status=t.$t("inbound.predeliverystock"):2===e.asn_status?e.asn_status=t.$t("inbound.preloadstock"):3===e.asn_status?e.asn_status=t.$t("inbound.presortstock"):4===e.asn_status?e.asn_status=t.$t("inbound.sortstock"):5===e.asn_status?e.asn_status=t.$t("inbound.asndone"):e.asn_status="N/A",t.table_list.push(e)})),t.supplier_list=e.supplier_list,t.supplier_list1=e.supplier_list,t.pathname_previous=e.previous,t.pathname_next=e.next,t.bin_list=e.bin_list})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},getListNext(){var t=this;c["a"].has("auth")&&Object(n["e"])(t.pathname_next,{}).then((e=>{t.table_list=[],e.results.forEach((e=>{1===e.asn_status?e.asn_status=t.$t("inbound.predeliverystock"):2===e.asn_status?e.asn_status=t.$t("inbound.preloadstock"):3===e.asn_status?e.asn_status=t.$t("inbound.presortstock"):4===e.asn_status?e.asn_status=t.$t("inbound.sortstock"):5===e.asn_status?e.asn_status=t.$t("inbound.asndone"):e.asn_status="N/A",t.table_list.push(e)})),t.supplier_list=e.supplier_list,t.supplier_list1=e.supplier_list,t.pathname_previous=e.previous,t.pathname_next=e.next,t.bin_list=e.bin_list})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},reFresh(){var t=this;t.table_list=[],t.getList()},newFormOpen(){var t=this;t.isEdit=!1,t.goodsDataClear(),t.newForm=!0,t.newAsn.creater=t.login_name,Object(n["i"])(t.pathname+"list/",t.newAsn).then((e=>{e.detail||(t.newFormData.asn_code=e.asn_code)})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},newDataSubmit(){var t=this;if(t.newFormData.creater=t.login_name,!t.newFormData.patch_number)return void t.$q.notify({message:"Please Enter The patch_number",icon:"close",color:"negative"});if(!t.warehouseId)return void t.$q.notify({message:"Please Enter The warehouse",icon:"close",color:"negative"});let e=!1;if(""!==t.newFormData.supplier){t.newFormData.goods_code=[],t.newFormData.goods_qty=[];let o=0;for(let a=0;a<10;a++){const s=`goodsData${a+1}`;""!==t[s].code&&""!==t[s].qty&&(t[s].qty<1?(e=!0,t.$q.notify({message:"Total Quantity Must Be > 0",icon:"close",color:"negative"})):(t.newFormData.goods_code.push(t[s].code),t.newFormData.goods_qty.push(t[s].qty)),o+=1)}0===o&&(e=!0,t.$q.notify({message:"Please Enter The Goods & Qty",icon:"close",color:"negative"}))}else e=!0,t.$q.notify({message:"Please Enter The Supplier",icon:"close",color:"negative"});e||Object(n["i"])(t.pathname+"detail/",{...t.newFormData,page_size:1e3,warehouse_id:t.warehouseId}).then((e=>{t.table_list=[],t.getList(),t.newDataCancel(),"success"===e.detail&&t.$q.notify({message:"Success Create",icon:"check",color:"green"})})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},newDataCancel(){var t=this;t.newForm=!1,t.warehouseId="",t.newFormData={asn_code:"",supplier:"",goods_code:[],goods_qty:[],creater:""},t.goodsDataClear()},goodsDataClear(){var t=this;for(let e=1;e<=10;e++)t[`goodsData${e}`]={code:"",qty:""}},editData(t){var e=this;e.isEdit=!0,e.goodsDataClear(),t.asn_status!==e.$t("inbound.predeliverystock")?e.$q.notify({message:t.asn_code+" ASN Status Is Not "+e.$t("inbound.predeliverystock"),icon:"close",color:"negative"}):(e.newFormData.asn_code=t.asn_code,e.newFormData.supplier=t.supplier,e.newFormData.patch_number=t.patch_number,e.warehouseId=t.warehouse_id,Object(n["e"])(e.pathname+"detail/?asn_code="+t.asn_code).then((o=>{e.newForm=!0,e.editid=t.id,o.results.forEach(((t,o)=>{e[`goodsData${o+1}`]={code:t.goods_code,qty:t.goods_qty}}))})))},editDataSubmit(){var t=this;t.newFormData.creater=t.login_name;let e=!1;if(""!==t.newFormData.supplier){t.newFormData.goods_code=[],t.newFormData.goods_qty=[];let o=0;for(let a=0;a<10;a++){const s=`goodsData${a+1}`;""!==t[s].code&&""!==t[s].qty&&(t[s].qty<1?(e=!0,t.$q.notify({message:"Total Quantity Must Be > 0",icon:"close",color:"negative"})):(t.newFormData.goods_code.push(t[s].code),t.newFormData.goods_qty.push(t[s].qty)),o+=1)}0===o&&(e=!0,t.$q.notify({message:"Please Enter The Goods & Qty",icon:"close",color:"negative"}))}else e=!0,t.$q.notify({message:"Please Enter The Supplier",icon:"close",color:"negative"});e||Object(n["j"])(t.pathname+"detail/",{...t.newFormData,warehouse_id:t.warehouseId}).then((e=>{t.table_list=[],t.editDataCancel(),t.getList(),"success"===e.detail&&t.$q.notify({message:"Success Edit Data",icon:"check",color:"green"})})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},editDataCancel(){var t=this;t.newForm=!1,t.editid=0,t.warehouseId="",t.newFormData={asn_code:"",supplier:"",goods_code:[],goods_qty:[],creater:""},t.goodsDataClear()},deleteData(t){var e=this;t.asn_status!==e.$t("inbound.predeliverystock")?e.$q.notify({message:t.asn_code+" ASN Status Is Not "+e.$t("inbound.predeliverystock"),icon:"close",color:"negative"}):(e.deleteForm=!0,e.deleteid=t.id)},deleteDataSubmit(){var t=this;Object(n["d"])(t.pathname+"list/"+t.deleteid+"/").then((e=>{t.table_list=[],t.deleteDataCancel(),t.getList(),e.data||t.$q.notify({message:"Success Delete Data",icon:"check",color:"green"})})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},deleteDataCancel(){var t=this;t.deleteForm=!1,t.deleteid=0},preloadData(t){var e=this;t.asn_status!==e.$t("inbound.predeliverystock")?e.$q.notify({message:t.asn_code+" ASN Status Is Not "+e.$t("inbound.predeliverystock"),icon:"close",color:"negative"}):(e.preloadForm=!0,e.preloadid=t.id)},preloadDataSubmit(){var t=this;this.deliveryData.box_number?this.deliveryData.confirm_time?Object(n["i"])(t.pathname+"preload/"+t.preloadid+"/",{...this.deliveryData}).then((e=>{t.table_list=[],t.preloadDataCancel(),t.getList(),e.detail||t.$q.notify({message:"Success Confirm ASN Delivery",icon:"check",color:"green"})})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})})):t.$q.notify({message:"Confirmation Time Cannot be empty",icon:"close",color:"negative"}):t.$q.notify({message:"Carton Number Cannot be empty",icon:"close",color:"negative"})},preloadDataCancel(){var t=this;t.preloadForm=!1,t.preloadid=0},presortData(t){var e=this;t.asn_status!==e.$t("inbound.preloadstock")?e.$q.notify({message:t.asn_code+" ASN Status Is Not "+e.$t("inbound.preloadstock"),icon:"close",color:"negative"}):(e.presortForm=!0,e.presortid=t.id)},presortDataSubmit(){var t=this;Object(n["i"])(t.pathname+"presort/"+t.presortid+"/",{}).then((e=>{t.table_list=[],t.presortDataCancel(),t.getList(),e.detail||t.$q.notify({message:"Success Load ASN",icon:"check",color:"green"})})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},presortDataCancel(){var t=this;t.presortForm=!1,t.presortid=0},getFocus(t){this.listNumber=t},setOptions(t){const e=this;t||(this[`goodsData${this.listNumber}`].code="");const o=t.toLowerCase();Object(n["e"])("goods/?goods_code__icontains="+o).then((o=>{const a=[];for(let e=0;e<o.results.length;e++)a.push(o.results[e].goods_code),this.listNumber&&o.results[e].goods_code===t&&(this[`goodsData${this.listNumber}`].code=t);e.options1=a}))},filterFn(t,e,o){t.length<1?o():e((()=>{this.options=this.options1}))},setModel(t){const e=this;e.newFormData.supplier=t},setWarehouse(t){const e=this;console.log(t,"====211===="),this.$nextTick((()=>{e.aaa=t,console.log(t,"====211====")}))},filterFnS(t,e,o){var a=this;e((()=>{const e=t.toLocaleLowerCase(),o=a.supplier_list1;a.supplier_list=o.filter((t=>t.toLocaleLowerCase().indexOf(e)>-1))}))},sortedData(t){var e=this;e.goodsDataClear(),t.asn_status!==e.$t("inbound.presortstock")?e.$q.notify({message:t.asn_code+" ASN Status Is Not "+e.$t("inbound.presortstock"),icon:"close",color:"negative"}):(e.bin_list.forEach((e=>{e.openid,t.openid})),e.sorted_list.asn_code=t.asn_code,e.sorted_list.supplier=t.supplier,Object(n["e"])(e.pathname+"detail/?max_page=10000&asn_code="+t.asn_code).then((o=>{e.sortedForm=!0,e.sortedid=t.id,e.sorted_list.goodsData=o.results,e.sorted_list.goodsData.forEach((t=>{t.goods_actual_qty=t.goods_qty}))})))},sortedDataSubmit(){var t=this;t.sorted_list.creater=t.login_name,Object(n["i"])(t.pathname+"sorted/"+t.sortedid+"/",t.sorted_list).then((e=>{t.table_list=[],t.sortedDataCancel(),t.getList(),e.data||t.$q.notify({message:"Success Sorted ASN",icon:"check",color:"green"})})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))},sortedDataCancel(){var t=this;t.sortedForm=!1,t.sortedid=0,t.sorted_list={bin_name:"",asn_code:"",supplier:"",goodsData:[],creater:""},t.goodsDataClear()},viewData(t){var e=this;Object(n["a"])(e.pathname+"viewprint/"+t.id+"/").then((a=>{e.viewprint_table=a.asn_detail,e.warehouse_detail=a.warehouse_detail,e.supplier_detail=a.supplier_detail,e.viewAsn=t.asn_code;var s=o("d055");s.toDataURL(t.bar_code,[{errorCorrectionLevel:"H",mode:"byte",version:"2",type:"image/jpeg"}]).then((t=>{e.bar_code=t})).catch((t=>{console.error(t)})),e.viewForm=!0}))},ChangeWarehouse(t){var e=this;e.warehouse_form=!0,e.asn_choose_data=t},submitWarehouseChange(){var t=this;t.warehouse_model.value===t.asn_choose_data.warehouse_id?t.$q.notify({message:"同一个仓库不可以调拨",icon:"close",color:"negative"}):Object(n["i"])(t.pathname+"changewarehouse/"+t.asn_choose_data.id+"/",t.warehouse_model).then((e=>{t.table_list=[],t.warehouse_form=!1,t.getList(),e.data||t.$q.notify({message:"调拨成功",icon:"check",color:"green"})})).catch((e=>{t.$q.notify({message:e.detail,icon:"close",color:"negative"})}))}},created(){var t=this;c["a"].has("openid")?t.openid=c["a"].getItem("openid"):(t.openid="",c["a"].set("openid","")),c["a"].has("login_name")?t.login_name=c["a"].getItem("login_name"):(t.login_name="",c["a"].set("login_name","")),c["a"].has("auth")?(t.authin="1",t.table_list=[],t.getList()):t.authin="0",r["a"].has("goods_code")||r["a"].set("goods_code",[])},mounted(){var t=this;t.$q.platform.is.electron?t.height=String(t.$q.screen.height-290)+"px":t.height=t.$q.screen.height-290+"px"},updated(){},destroyed(){}},p=u,_=(o("5241"),o("42e1")),g=o("168a"),m=o("eaac"),f=o("e7a9"),b=o("9c40"),h=o("05c0"),y=o("2c91"),v=o("27f9"),q=o("0016"),k=o("bd08"),w=o("db86"),x=o("1c1c"),D=o("66e5"),$=o("4074"),S=o("0170"),C=o("3b16"),F=o("24e8"),I=o("f09f"),O=o("d847"),E=o("a370"),N=o("ddd8"),j=o("2bb1"),L=o("ee89"),Q=o("cc04"),P=o("714f"),A=o("7f67"),T=o("eebe"),z=o.n(T),M=Object(_["a"])(p,a,s,!1,null,null,null);"function"===typeof g["default"]&&Object(g["default"])(M);e["default"]=M.exports;z()(M,"components",{QTable:m["a"],QBtnGroup:f["a"],QBtn:b["a"],QTooltip:h["a"],QSpace:y["a"],QInput:v["a"],QIcon:q["a"],QTr:k["a"],QTd:w["a"],QList:x["a"],QItem:D["a"],QItemSection:$["a"],QItemLabel:S["a"],QPagination:C["a"],QDialog:F["a"],QCard:I["a"],QBar:O["a"],QCardSection:E["a"],QSelect:N["a"],QMarkupTable:j["a"],QUploader:L["a"],QUploaderAddTrigger:Q["a"]}),z()(M,"directives",{Ripple:P["a"],ClosePopup:A["a"]})},5241:function(t,e,o){"use strict";o("eeed")},d288:function(t,e){},eeed:function(t,e,o){}}]);