(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[87],{"8b98":function(e,t,i){"use strict";var a=i("977d"),n=i.n(a);t["default"]=n.a},"977d":function(e,t){},db87:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[[t("div",{staticClass:"q-pa-lg flex flex-center"},[t("q-select",{staticStyle:{width:"400px"},attrs:{filled:"",options:e.printer_options,label:"选择打印机"},on:{input:function(t){return e.setPrinter()}},model:{value:e.printer,callback:function(t){e.printer=t},expression:"printer"}})],1)]],2)},n=[],r=i("bd4c"),s=i("a357"),o=i("18d6"),l=i("3004"),c={name:"Pageprinter",data(){return{openid:"",login_name:"",authin:"0",pathname:"binsize/",pathname_previous:"",pathname_next:"",separator:"cell",loading:!1,height:"",table_list:[],columns:[{name:"bin_size",required:!0,label:this.$t("warehouse.view_binsize.bin_size"),align:"left",field:"bin_size"},{name:"bin_size_w",label:this.$t("warehouse.view_binsize.bin_size_w"),field:"bin_size_w",align:"center"},{name:"bin_size_d",label:this.$t("warehouse.view_binsize.bin_size_d"),field:"bin_size_d",align:"center"},{name:"bin_size_h",label:this.$t("warehouse.view_binsize.bin_size_h"),field:"bin_size_h",align:"center"},{name:"creater",label:this.$t("creater"),field:"creater",align:"center"},{name:"create_time",label:this.$t("createtime"),field:"create_time",align:"center"},{name:"update_time",label:this.$t("updatetime"),field:"update_time",align:"center"},{name:"action",label:this.$t("action"),align:"right"}],filter:"",pagination:{page:1,rowsPerPage:"30"},newForm:!1,newFormData:{bin_size:"",bin_size_w:"",bin_size_d:"",bin_size_h:"",creater:""},editid:0,editFormData:{},editMode:!1,deleteForm:!1,deleteid:0,error1:this.$t("warehouse.view_binsize.error1"),error2:this.$t("warehouse.view_binsize.error2"),error3:this.$t("warehouse.view_binsize.error3"),error4:this.$t("warehouse.view_binsize.error4"),printer:"",printer_options:[]}},methods:{getList(){var e=this;o["a"].has("auth")&&Object(l["e"])("http://127.0.0.1:8008/getprinter/",{}).then((t=>{e.printer_options=t.results})).catch((t=>{e.$q.notify({message:t.detail,icon:"close",color:"negative"})}))},setPrinter(){var e=this;o["a"].has("auth")&&e.$q.localStorage.set("printer",e.printer)},getSearchList(){var e=this;o["a"].has("auth")&&Object(l["e"])(e.pathname+"?bin_size__icontains="+e.filter,{}).then((t=>{e.table_list=t.results,e.pathname_previous=t.previous,e.pathname_next=t.next})).catch((t=>{e.$q.notify({message:t.detail,icon:"close",color:"negative"})}))},getListPrevious(){var e=this;o["a"].has("auth")&&Object(l["e"])(e.pathname_previous,{}).then((t=>{e.table_list=t.results,e.pathname_previous=t.previous,e.pathname_next=t.next})).catch((t=>{e.$q.notify({message:t.detail,icon:"close",color:"negative"})}))},getListNext(){var e=this;o["a"].has("auth")&&Object(l["e"])(e.pathname_next,{}).then((t=>{e.table_list=t.results,e.pathname_previous=t.previous,e.pathname_next=t.next})).catch((t=>{e.$q.notify({message:t.detail,icon:"close",color:"negative"})}))},reFresh(){var e=this;e.getList()},newDataSubmit(){var e=this,t=[];e.table_list.forEach((e=>{t.push(e.bin_size)})),-1===t.indexOf(e.newFormData.bin_size)&&0!==e.newFormData.bin_size.length?(e.newFormData.creater=e.login_name,Object(l["i"])(e.pathname,e.newFormData).then((t=>{e.getList(),e.newDataCancel(),e.$q.notify({message:"Success Create",icon:"check",color:"green"})})).catch((t=>{e.$q.notify({message:t.detail,icon:"close",color:"negative"})}))):-1!==t.indexOf(e.newFormData.bin_size)?e.$q.notify({message:e.$t("notice.warehouseerror.binsizeerror"),icon:"close",color:"negative"}):0===e.newFormData.bin_size.length&&e.$q.notify({message:e.$t("warehouse.view_binsize.error1"),icon:"close",color:"negative"}),t=[]},newDataCancel(){var e=this;e.newForm=!1,e.newFormData={bin_size:"",bin_size_w:0,bin_size_d:0,bin_size_h:0,creater:""}},editData(e){var t=this;t.editMode=!0,t.editid=e.id,t.editFormData={bin_size:e.bin_size,bin_size_w:e.bin_size_w,bin_size_d:e.bin_size_d,bin_size_h:e.bin_size_h,creater:t.login_name}},editDataSubmit(){var e=this;Object(l["j"])(e.pathname+e.editid+"/",e.editFormData).then((t=>{e.editDataCancel(),e.getList(),e.$q.notify({message:"Success Edit Data",icon:"check",color:"green"})})).catch((t=>{e.$q.notify({message:t.detail,icon:"close",color:"negative"})}))},editDataCancel(){var e=this;e.editMode=!1,e.editid=0,e.editFormData={bin_size:"",bin_size_w:0,bin_size_d:0,bin_size_h:0,creater:""}},deleteData(e){var t=this;t.deleteForm=!0,t.deleteid=e},deleteDataSubmit(){var e=this;Object(l["d"])(e.pathname+e.deleteid+"/").then((t=>{e.deleteDataCancel(),e.getList(),e.$q.notify({message:"Success Edit Data",icon:"check",color:"green"})})).catch((t=>{e.$q.notify({message:t.detail,icon:"close",color:"negative"})}))},deleteDataCancel(){var e=this;e.deleteForm=!1,e.deleteid=0},downloadData(){var e=this;o["a"].has("auth")?Object(l["f"])(e.pathname+"file/?lang="+o["a"].getItem("lang")).then((t=>{var i=Date.now(),a=r["b"].formatDate(i,"YYYYMMDDHHmmssSSS");const n=Object(s["a"])(e.pathname+a+".csv","\ufeff"+t.data,"text/csv");!0!==n&&e.$q.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})})):e.$q.notify({message:e.$t("notice.loginerror"),color:"negative",icon:"warning"})}},created(){var e=this;o["a"].has("openid")?e.openid=o["a"].getItem("openid"):(e.openid="",o["a"].set("openid","")),o["a"].has("login_name")?e.login_name=o["a"].getItem("login_name"):(e.login_name="",o["a"].set("login_name","")),o["a"].has("auth")?(e.authin="1",e.getList()):e.authin="0"},mounted(){var e=this;e.$q.localStorage.has("printer")?e.printer=e.$q.localStorage.getItem("printer"):(e.printer="",e.$q.localStorage.set("printer","")),e.$q.platform.is.electron?e.height=String(e.$q.screen.height-290)+"px":e.height=e.$q.screen.height-290+"px"},updated(){},destroyed(){}},h=c,d=i("42e1"),_=i("8b98"),m=i("ddd8"),b=i("eebe"),g=i.n(b),p=Object(d["a"])(h,a,n,!1,null,null,null);"function"===typeof _["default"]&&Object(_["default"])(p);t["default"]=p.exports;g()(p,"components",{QSelect:m["a"]})}}]);